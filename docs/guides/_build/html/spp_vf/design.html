

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2. Design &mdash; Soft Patch Panel v18.02 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Soft Patch Panel v18.02 documentation" href="../index.html"/>
        <link rel="up" title="SPP VF" href="index.html"/>
        <link rel="next" title="3. Getting Started" href="gsg/index.html"/>
        <link rel="prev" title="1. Overview" href="overview.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Soft Patch Panel
          

          
          </a>

          
            
            
              <div class="version">
                v18.02
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Soft Patch Panel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup/index.html">Setup Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/index.html">SPP Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">SPP VF</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="overview.html">1. Overview</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">2. Design</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#components">2.1. Components</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#forwarder">2.1.1. Forwarder</a></li>
<li class="toctree-l4"><a class="reference internal" href="#merger">2.1.2. Merger</a></li>
<li class="toctree-l4"><a class="reference internal" href="#classifier">2.1.3. Classifier</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ports">2.2. Ports</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="gsg/index.html">3. Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="use_cases/index.html">4. Use Cases</a></li>
<li class="toctree-l2"><a class="reference internal" href="commands/index.html">5. SPP VF Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="explain/index.html">6. Explanation</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Soft Patch Panel</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">SPP VF</a> &raquo;</li>
      
    <li>2. Design</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/spp_vf/design.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="design">
<span id="spp-vf-design"></span><h1>2. Design<a class="headerlink" href="#design" title="Permalink to this headline">¶</a></h1>
<div class="section" id="components">
<h2>2.1. Components<a class="headerlink" href="#components" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">spp_vf</span></code> is a kind of secondary process and consists of several
threads called component.
There are three types of components, <code class="docutils literal"><span class="pre">forwarder</span></code>,
<code class="docutils literal"><span class="pre">merger</span></code> and <code class="docutils literal"><span class="pre">classifier</span></code>.</p>
<a class="reference internal image-reference" href="../_images/spp_vf_overview.svg"><img height="550em" src="../_images/spp_vf_overview.svg" width="550em" /></a>
<div class="section" id="forwarder">
<h3>2.1.1. Forwarder<a class="headerlink" href="#forwarder" title="Permalink to this headline">¶</a></h3>
<p>Simply forwards packets from rx to tx port.</p>
</div>
<div class="section" id="merger">
<h3>2.1.2. Merger<a class="headerlink" href="#merger" title="Permalink to this headline">¶</a></h3>
<p>Receives packets from multiple rx ports to aggregate
packets and sends to a desctination port.</p>
</div>
<div class="section" id="classifier">
<h3>2.1.3. Classifier<a class="headerlink" href="#classifier" title="Permalink to this headline">¶</a></h3>
<p>Sends packets to multiple tx ports based on entries of
MAC address and destination port in a classifier table.
This component also supports VLAN tag.</p>
<p>For VLAN addressing, classifier has other tables than defalut.
Classifier prepares tables for each of VLAN ID and decides
which of table is referred
if TPID (Tag Protocol Indetifier) is included in a packet and
equals to 0x8100 as defined in IEEE 802.1Q standard.</p>
</div>
</div>
<div class="section" id="ports">
<h2>2.2. Ports<a class="headerlink" href="#ports" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">spp_vf</span></code> supports three types of PMDs, <code class="docutils literal"><span class="pre">phy</span></code> (Physical NIC),
<code class="docutils literal"><span class="pre">ring</span></code> (Ring PMD) and <code class="docutils literal"><span class="pre">vhost</span></code> (vhsot PMD).
Using <code class="docutils literal"><span class="pre">phy</span></code> port, component can get incoming packets from outside host
and transfer the packet to specific physical NIC.
Using <code class="docutils literal"><span class="pre">ring</span></code> port, variety of combination of components can be
configured.
And through <code class="docutils literal"><span class="pre">vhost</span></code> port component can transfer packets from/to VMs.
<code class="docutils literal"><span class="pre">port</span></code> can also control vlan tagging and untagging.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="gsg/index.html" class="btn btn-neutral float-right" title="3. Getting Started" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="overview.html" class="btn btn-neutral" title="1. Overview" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Yasufumi Ogawa.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'v18.02',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>