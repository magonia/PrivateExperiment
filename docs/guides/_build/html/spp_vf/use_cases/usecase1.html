

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>4.1. Simple SSH Login &mdash; Soft Patch Panel v18.02 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Soft Patch Panel v18.02 documentation" href="../../index.html"/>
        <link rel="up" title="4. Use Cases" href="index.html"/>
        <link rel="next" title="5. SPP VF Commands" href="../commands/index.html"/>
        <link rel="prev" title="4. Use Cases" href="index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Soft Patch Panel
          

          
          </a>

          
            
            
              <div class="version">
                v18.02
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">Soft Patch Panel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../setup/index.html">Setup Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../commands/index.html">SPP Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">SPP VF</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../overview.html">1. Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../design.html">2. Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gsg/index.html">3. Getting Started</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">4. Use Cases</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="">4.1. Simple SSH Login</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#launch-spp-vf">4.1.1. Launch SPP VF</a></li>
<li class="toctree-l4"><a class="reference internal" href="#network-configuration">4.1.2. Network Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#setup-for-vms">4.1.3. Setup for VMs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#login-to-vms">4.1.4. Login to VMs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#shutdown-spp-vf-components">4.1.5. Shutdown SPP VF Components</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../commands/index.html">5. SPP VF Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../explain/index.html">6. Explanation</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Soft Patch Panel</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">SPP VF</a> &raquo;</li>
      
          <li><a href="index.html">4. Use Cases</a> &raquo;</li>
      
    <li>4.1. Simple SSH Login</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/spp_vf/use_cases/usecase1.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="simple-ssh-login">
<span id="spp-vf-use-cases-usecase1"></span><h1>4.1. Simple SSH Login<a class="headerlink" href="#simple-ssh-login" title="Permalink to this headline">¶</a></h1>
<p>This section describes a usecase for simple SSH login through SPP VF.
Incoming packets are classified based on destination addresses defined
in <code class="docutils literal"><span class="pre">classifier</span></code>.
Reterned packets are aggregated to <code class="docutils literal"><span class="pre">merger</span></code> to send it an outgoing
port.</p>
<div class="figure" id="id1">
<span id="figure-simple-ssh-login"></span><a class="reference internal image-reference" href="../../_images/usecase1_overview.svg"><img height="400em" src="../../_images/usecase1_overview.svg" width="400em" /></a>
<p class="caption"><span class="caption-number">Fig. 4.4 </span><span class="caption-text">Simple SSH Login</span></p>
</div>
<div class="section" id="launch-spp-vf">
<h2>4.1.1. Launch SPP VF<a class="headerlink" href="#launch-spp-vf" title="Permalink to this headline">¶</a></h2>
<p>Change directory to spp and confirm that it is already compiled.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">$</span> <span class="nb">cd</span> /path/to/spp
</pre></div>
</div>
<p>As spp, launch controller first. You notice that SPP VF has its own
controller <code class="docutils literal"><span class="pre">spp_vf.py</span></code> and do not use <code class="docutils literal"><span class="pre">spp.py</span></code>.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">#</span> Launch spp_vf.py
<span class="gp">$</span> python ./src/spp_vf.py -p <span class="m">5555</span> -s 6666
</pre></div>
</div>
<p>Then, run <code class="docutils literal"><span class="pre">spp_primary</span></code>.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">$</span> sudo ./src/primary/x86_64-native-linuxapp-gcc/spp_primary <span class="se">\</span>
<span class="go">    -c 0x02 -n 4 \</span>
<span class="go">    --socket-mem 512,512 \</span>
<span class="go">    --huge-dir=/run/hugepages/kvm \</span>
<span class="go">    --proc-type=primary \</span>
<span class="go">    -- \</span>
<span class="go">    -p 0x03 -n 8 -s 127.0.0.1:5555</span>
</pre></div>
</div>
<p>After <code class="docutils literal"><span class="pre">spp_primary</span></code> is launched, run secondary process <code class="docutils literal"><span class="pre">spp_vf</span></code>.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">$</span> sudo ./src/vf/x86_64-native-linuxapp-gcc/spp_vf <span class="se">\</span>
<span class="go">    -c 0x00fe -n 4 --proc-type=secondary \</span>
<span class="go">    -- \</span>
<span class="go">    --client-id 1 \</span>
<span class="go">    -s 127.0.0.1:6666 \</span>
<span class="go">    --vhost-client</span>
</pre></div>
</div>
</div>
<div class="section" id="network-configuration">
<h2>4.1.2. Network Configuration<a class="headerlink" href="#network-configuration" title="Permalink to this headline">¶</a></h2>
<p>Detailed configuration of <a class="reference internal" href="#figure-simple-ssh-login"><span>Fig. 4.4</span></a> is
described below.
In this usecase, there are two NICs on host1 and host2 to duplicate
login path. Each of combination of classifier and merger responds
to each of pathes.</p>
<p>Incoming packets from NIC0 are classified based on destionation address.
For example, classifier1 sends packets to forwarder1 for vNIC0 and
to forwarder2 for vNIC2.
Outgoing packets from SSH server1 and 2 are aggregated to merger1 and
sent to SSH clinet via NIC0.</p>
<div class="figure" id="id2">
<span id="figure-network-config"></span><a class="reference internal image-reference" href="../../_images/usecase1_nwconfig.svg"><img height="720em" src="../../_images/usecase1_nwconfig.svg" width="720em" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5 </span><span class="caption-text">Network Configuration</span></p>
</div>
<p>You need to input a little bit large amount of commands for the
configuration, or use <code class="docutils literal"><span class="pre">playback</span></code> command to load from config files.
You can find a series of config files for this use case in
<code class="docutils literal"><span class="pre">docs/samples/command/spp_vf/usecase1/</span></code>.</p>
<p>First, lanch threads of SPP VF called <code class="docutils literal"><span class="pre">component</span></code> with its core ID
and a directive for behaviour.
It is launched from <code class="docutils literal"><span class="pre">component</span></code> subcommand with options.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">spp &gt; sec [SEC_ID];component start [NAME] [CORE_ID] [BEHAVIOUR]</span>
</pre></div>
</div>
<p>In this usecase, spp_vf is launched with ID=1. Let&#8217;s start components
for the first login path.
Directive for classifier <code class="docutils literal"><span class="pre">classifier_mac</span></code> means to classify with MAC
address.
Core ID from 2 to 7 are assigned to each of components.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">#</span> Start component to spp_vf
<span class="go">spp &gt; sec 1;component start classifier1 2 classifier_mac</span>
<span class="go">spp &gt; sec 1;component start forwarder1 3 forward</span>
<span class="go">spp &gt; sec 1;component start forwarder2 4 forward</span>
<span class="go">spp &gt; sec 1;component start forwarder3 5 forward</span>
<span class="go">spp &gt; sec 1;component start forwarder4 6 forward</span>
<span class="go">spp &gt; sec 1;component start merger1 7 merge</span>
</pre></div>
</div>
<p>Each of components must have rx and tx ports for forwarding.
Add ports for each of components as following.
You might notice that classifier has two tx ports and
merger has two rx ports.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">#</span> classifier1
<span class="go">spp &gt; sec 1;port add phy:0 rx classifier1</span>
<span class="go">spp &gt; sec 1;port add ring:0 tx classifier1</span>
<span class="go">spp &gt; sec 1;port add ring:1 tx classifier1</span>
<span class="gp">#</span> forwarder1
<span class="go">spp &gt; sec 1;port add ring:0 rx forwarder1</span>
<span class="go">spp &gt; sec 1;port add vhost:0 tx forwarder1</span>
<span class="gp">#</span> forwarder2
<span class="go">spp &gt; sec 1;port add vhost:0 rx forwarder2</span>
<span class="go">spp &gt; sec 1;port add ring:2 tx forwarder2</span>
<span class="gp">#</span> forwarder3
<span class="go">spp &gt; sec 1;port add ring:1 rx forwarder3</span>
<span class="go">spp &gt; sec 1;port add vhost:2 rx forwarder3</span>
<span class="gp">#</span> forwarder4
<span class="go">spp &gt; sec 1;port add vhost:2 tx forwarder4</span>
<span class="go">spp &gt; sec 1;port add ring:3 rx forwarder4</span>
<span class="gp">#</span> merger1
<span class="go">spp &gt; sec 1;port add ring:2 rx merger1</span>
<span class="go">spp &gt; sec 1;port add ring:3 rx merger1</span>
<span class="go">spp &gt; sec 1;port add phy:0 tx merger1</span>
</pre></div>
</div>
<p>As given <code class="docutils literal"><span class="pre">classifier_mac</span></code>, classifier component decides
the destination with MAC address by referring <code class="docutils literal"><span class="pre">classifier_table</span></code>.
MAC address and corresponging port is registered to the table with
<code class="docutils literal"><span class="pre">classifier_table</span> <span class="pre">add</span> <span class="pre">mac</span></code> command.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">spp &gt; [SEC_ID];classifier_table add mac [MACADDRESS] [PORT]</span>
</pre></div>
</div>
<p>In this usecase, you need to register two MAC addresses for merger1.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">#</span> Register MAC address to classifier
<span class="go">spp &gt; sec 1;classifier_table add mac 52:54:00:12:34:56 ring:0</span>
<span class="go">spp &gt; sec 1;classifier_table add mac 52:54:00:12:34:58 ring:1</span>
</pre></div>
</div>
<p>Configuration for the second login path is almost similar to the first
path.</p>
<p>Start components with core ID 8-13 and directives.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">spp &gt; sec 1;component start classifier2 8 classifier_mac</span>
<span class="go">spp &gt; sec 1;component start forwarder5 9 forward</span>
<span class="go">spp &gt; sec 1;component start forwarder6 10 forward</span>
<span class="go">spp &gt; sec 1;component start forwarder7 11 forward</span>
<span class="go">spp &gt; sec 1;component start forwarder8 12 forward</span>
<span class="go">spp &gt; sec 1;component start merger2 13 merge</span>
</pre></div>
</div>
<p>Add ports to each of components.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">#</span> classifier2
<span class="go">spp &gt; sec 1;port add phy:1 rx classifier2</span>
<span class="go">spp &gt; sec 1;port add ring:4 tx classifier2</span>
<span class="go">spp &gt; sec 1;port add ring:5 tx classifier2</span>
<span class="gp">#</span> forwarder5
<span class="go">spp &gt; sec 1;port add ring:4 rx forwarder5</span>
<span class="go">spp &gt; sec 1;port add vhost:1 tx forwarder5</span>
<span class="gp">#</span> forwarder6
<span class="go">spp &gt; sec 1;port add vhost:1 rx forwarder6</span>
<span class="go">spp &gt; sec 1;port add ring:6 tx forwarder6</span>
<span class="gp">#</span> forwarder7
<span class="go">spp &gt; sec 1;port add ring:5 rx forwarder7</span>
<span class="go">spp &gt; sec 1;port add vhost:3 rx forwarder7</span>
<span class="gp">#</span> forwarder8
<span class="go">spp &gt; sec 1;port add vhost:3 tx forwarder8</span>
<span class="go">spp &gt; sec 1;port add ring:7 rx forwarder8</span>
<span class="gp">#</span> merger2
<span class="go">spp &gt; sec 1;port add ring:6 rx merger2</span>
<span class="go">spp &gt; sec 1;port add ring:7 rx merger2</span>
<span class="go">spp &gt; sec 1;port add phy:1 tx merger2</span>
</pre></div>
</div>
<p>Register entries to classifier_table for classifier2.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">#</span> Register MAC address to classifier
<span class="go">spp &gt; sec 1;classifier_table add mac 52:54:00:12:34:57 ring:4</span>
<span class="go">spp &gt; sec 1;classifier_table add mac 52:54:00:12:34:59 ring:5</span>
</pre></div>
</div>
<p>Finally, activate all of settings by doign <cite>flush</cite> subcommand.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">spp &gt; sec 1;flush</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Commands for SPP VF Controller are accepted but not activated until
user inputs <code class="docutils literal"><span class="pre">flush</span></code> subcommand.
You can cancel all of commands before doing <code class="docutils literal"><span class="pre">flush</span></code>.</p>
</div>
</div>
<div class="section" id="setup-for-vms">
<h2>4.1.3. Setup for VMs<a class="headerlink" href="#setup-for-vms" title="Permalink to this headline">¶</a></h2>
<p>Launch VM1 and VM2 with virsh command.
Setup for virsh is described in <a class="reference internal" href="../gsg/build.html#spp-vf-gsg-build"><span>Build</span></a>.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">$</span> virsh start spp-vm1  <span class="c1"># VM1</span>
<span class="gp">$</span> virsh start spp-vm2  <span class="c1"># VM2</span>
</pre></div>
</div>
<p>After launched, login to <code class="docutils literal"><span class="pre">spp-vm1</span></code> for configuration inside the VM.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>To avoid asked for unknown keys while login VMs,
use <code class="docutils literal"><span class="pre">-oStrictHostKeyChecking=no</span></code> option for ssh.</p>
<div class="last highlight-console"><div class="highlight"><pre><span class="gp">$</span> ssh -oStrictHostKeyChecking<span class="o">=</span>no sppuser at 192.168.122.31
</pre></div>
</div>
</div>
<p>Up interfaces for vhost inside <code class="docutils literal"><span class="pre">spp-vm1</span></code>.
In addition, you have to disable TCP offload function, or ssh is failed
after configuration is done.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">#</span> up interfaces
<span class="gp">$</span> sudo ifconfig ens4 inet 192.168.140.21 netmask 255.255.255.0 up
<span class="gp">$</span> sudo ifconfig ens5 inet 192.168.150.22 netmask 255.255.255.0 up

<span class="gp">#</span> disable TCP offload
<span class="gp">$</span> sudo ethtool -K ens4 tx off
<span class="gp">$</span> sudo ethtool -K ens5 tx off
</pre></div>
</div>
<p>Configurations also for <code class="docutils literal"><span class="pre">spp-vm2</span></code> as <code class="docutils literal"><span class="pre">spp-vm1</span></code>.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">$</span> ssh -oStrictHostKeyChecking<span class="o">=</span>no sppuser@192.168.122.32

<span class="gp">#</span> up interfaces
<span class="gp">$</span> sudo ifconfig ens4 inet 192.168.140.31 netmask 255.255.255.0 up
<span class="gp">$</span> sudo ifconfig ens5 inet 192.168.150.32 netmask 255.255.255.0 up

<span class="gp">#</span> disable TCP offload
<span class="gp">$</span> sudo ethtool -K ens4 tx off
<span class="gp">$</span> sudo ethtool -K ens5 tx off
</pre></div>
</div>
</div>
<div class="section" id="login-to-vms">
<h2>4.1.4. Login to VMs<a class="headerlink" href="#login-to-vms" title="Permalink to this headline">¶</a></h2>
<p>Now, you can login to VMs from the remote host1.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">#</span> spp-vm1 via NIC0
<span class="gp">$</span> ssh sppuser@192.168.140.21

<span class="gp">#</span> spp-vm1 via NIC1
<span class="gp">$</span> ssh sppuser@192.168.150.22

<span class="gp">#</span> spp-vm2 via NIC0
<span class="gp">$</span> ssh sppuser@192.168.140.31

<span class="gp">#</span> spp-vm2 via NIC1
<span class="gp">$</span> ssh sppuser@192.168.150.32
</pre></div>
</div>
</div>
<div class="section" id="shutdown-spp-vf-components">
<h2>4.1.5. Shutdown SPP VF Components<a class="headerlink" href="#shutdown-spp-vf-components" title="Permalink to this headline">¶</a></h2>
<p>Basically, you can shutdown all of SPP processes with <code class="docutils literal"><span class="pre">bye</span> <span class="pre">all</span></code>
command.
This section describes graceful shutting down for SPP VF components.</p>
<p>First, delete entries of <code class="docutils literal"><span class="pre">classifier_table</span></code> and ports of components
for the first SSH login path.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">#</span> Delete MAC address from Classifier
<span class="go">spp &gt; sec 1;classifier_table del mac 51:54:00:12:34:56 ring:0</span>
<span class="go">spp &gt; sec 1;classifier_table del mac 51:54:00:12:34:58 ring:1</span>
</pre></div>
</div>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">#</span> classifier1
<span class="go">spp &gt; sec 1;port del phy:0 rx classifier1</span>
<span class="go">spp &gt; sec 1;port del ring:0 tx classifier1</span>
<span class="go">spp &gt; sec 1;port del ring:1 tx classifier1</span>
<span class="gp">#</span> forwarder1
<span class="go">spp &gt; sec 1;port del ring:0 rx forward1</span>
<span class="go">spp &gt; sec 1;port del vhost:0 tx forward1</span>
<span class="gp">#</span> forwarder2
<span class="go">spp &gt; sec 1;port del vhost:0 rx forward2</span>
<span class="go">spp &gt; sec 1;port del ring:2 tx forward2</span>
<span class="gp">#</span> forwarder3
<span class="go">spp &gt; sec 1;port del ring:1 rx forward3</span>
<span class="go">spp &gt; sec 1;port del vhost:2 rx forward3</span>
<span class="gp">#</span> forwarder4
<span class="go">spp &gt; sec 1;port del vhost:2 tx forward4</span>
<span class="go">spp &gt; sec 1;port del ring:3 rx forward4</span>
<span class="gp">#</span> merger1
<span class="go">spp &gt; sec 1;port del ring:2 rx merge1</span>
<span class="go">spp &gt; sec 1;port del ring:3 rx merge1</span>
<span class="go">spp &gt; sec 1;port del phy:0 tx merge1</span>
</pre></div>
</div>
<p>Then, stop components.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">#</span> Stop component to spp_vf
<span class="go">spp &gt; sec 1;component stop classifier1</span>
<span class="go">spp &gt; sec 1;component stop forward1</span>
<span class="go">spp &gt; sec 1;component stop forward2</span>
<span class="go">spp &gt; sec 1;component stop forward3</span>
<span class="go">spp &gt; sec 1;component stop forward4</span>
<span class="go">spp &gt; sec 1;component stop merge1</span>
</pre></div>
</div>
<p>Second, do termination for the second path.
Delete entries from <code class="docutils literal"><span class="pre">classifier_table</span></code> and ports from each of
components.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">#</span> Delete MAC address from Classifier
<span class="go">spp &gt; sec 1;classifier_table del mac 51:54:00:12:34:57 ring:4</span>
<span class="go">spp &gt; sec 1;classifier_table del mac 51:54:00:12:34:59 ring:5</span>
</pre></div>
</div>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">#</span> classifier2
<span class="go">spp &gt; sec 1;port del phy:1 rx classifier2</span>
<span class="go">spp &gt; sec 1;port del ring:4 tx classifier2</span>
<span class="go">spp &gt; sec 1;port del ring:5 tx classifier2</span>
<span class="gp">#</span> forwarder5
<span class="go">spp &gt; sec 1;port del ring:4 rx forwarder5</span>
<span class="go">spp &gt; sec 1;port del vhost:1 tx forwarder5</span>
<span class="gp">#</span> forwarder6
<span class="go">spp &gt; sec 1;port del vhost:1 rx forwarder6</span>
<span class="go">spp &gt; sec 1;port del ring:6 tx forwarder6</span>
<span class="gp">#</span> forwarder7
<span class="go">spp &gt; sec 1;port del ring:5 rx forwarder7</span>
<span class="go">spp &gt; sec 1;port del vhost:3 rx forwarder7</span>
<span class="gp">#</span> forwarder8
<span class="go">spp &gt; sec 1;port del vhost:3 tx forwarder8</span>
<span class="go">spp &gt; sec 1;port del ring:7 rx forwarder8</span>
<span class="gp">#</span> merger2
<span class="go">spp &gt; sec 1;port del ring:6 rx merger2</span>
<span class="go">spp &gt; sec 1;port del ring:7 rx merger2</span>
<span class="go">spp &gt; sec 1;port del phy:1 tx merger2</span>
</pre></div>
</div>
<p>Then, stop components.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">#</span> Stop component to spp_vf
<span class="go">spp &gt; sec 1;component stop classifier2 8 classifier_mac</span>
<span class="go">spp &gt; sec 1;component stop forward5 9 forward</span>
<span class="go">spp &gt; sec 1;component stop forward6 10 forward</span>
<span class="go">spp &gt; sec 1;component stop forward7 11 forward</span>
<span class="go">spp &gt; sec 1;component stop forward8 12 forward</span>
<span class="go">spp &gt; sec 1;component stop merge2 13 merge</span>
</pre></div>
</div>
<p>Finally, run <code class="docutils literal"><span class="pre">flush</span></code> subcommand.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">spp &gt; sec 1;flush</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../commands/index.html" class="btn btn-neutral float-right" title="5. SPP VF Commands" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="4. Use Cases" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Yasufumi Ogawa.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'v18.02',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>